<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="Parker Spradley" />
    
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../img/favicon.ico">
    <title>R Markdown Python Engine</title>
    <meta name="generator" content="Hugo 0.79.0" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="../../../../../css/main.css" />
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,400,200bold,400old" />
    
    <!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
			<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->

    
  </head>

  <body>
    <div id="wrap">
      
      <nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <a class="navbar-brand" href="../../../../../"><i class="fa fa-home"></i></a>
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="navbar-collapse collapse" id="navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
        <li><a href="../../../../../post/">BLOG</a></li>
        
        <li><a href="../../../../../projects/">PROJECTS</a></li>
        
        <li><a href="../../../../../resume/">RESUME</a></li>
        
      
      </ul>
    </div>
  </div>
</nav>

      <div class="container">
        <div class="blog-post">
          <h3>
            <strong><a href="../../../../../post/1/01/01/r-markdown-python-engine/">R Markdown Python Engine</a></strong>
          </h3>
        </div>
 
<div class="blog-title">
          <h4>
         January 1, 0001 
            &nbsp;&nbsp;
            
          </h4>
        </div>

        <div class="panel panel-default">
          <div class="panel-body">
            <div class="blogpost">
              


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>The <strong>reticulate</strong> package includes a Python engine for <a href="https://rmarkdown.rstudio.com/">R Markdown</a> that enables easy interoperability between Python and R chunks.</p>
<p>Python chunks behave very similar to R chunks (including graphical output from matplotlib) and the two languages have full access each other's objects. Built in conversion for many Python object types is provided, including <a href="https://numpy.org/">NumPy</a> arrays and <a href="https://pandas.pydata.org/">Pandas</a> data frames.</p>
<p>If you are using knitr version 1.18 or higher, then the reticulate Python engine will be enabled by default whenever reticulate is installed and no further setup is required. If you are running an earlier version of knitr or want to disable the use of the reticulate engine see the <a href="#engine-setup">Engine Setup</a> section below.</p>
</div>
<div id="python-version" class="section level2">
<h2>Python Version</h2>
<p>By default, reticulate uses the version of Python found on your <code>PATH</code> (i.e. <code>Sys.which(&quot;python&quot;)</code>). If you want to use an alternate version you should add one of the <code>use_python()</code> family of functions to your R Markdown setup chunk, for example:</p>
<div class="figure">
<img src="images/python_version.png" class="screenshot" style="width:98.0%" />

</div>
<p>See the article on <a href="versions.html">Python Version Configuration</a> for additional details on configuring Python versions (including the use of conda or virtualenv environments).</p>
</div>
<div id="python-chunks" class="section level2">
<h2>Python Chunks</h2>
<p>Python code chunks work exactly like R code chunks: Python code is executed and any print or graphical (matplotlib) output is included within the document.</p>
<p>Python chunks all execute within a single Python session so have access to all objects created in previous chunks. Chunk options like <code>echo</code>, <code>include</code>, etc. all work as expected.</p>
<p>Here's an R Markdown document that demonstrates this:</p>
<div class="figure">
<img src="images/python_chunks.png" class="screenshot" style="width:98.0%" />

</div>
<p><a href="https://rstudio.com/products/rstudio/download/">RStudio v1.2</a> or greater for reticulate IDE support.</p>
</div>
<div id="calling-python-from-r" class="section level2">
<h2>Calling Python from R</h2>
<p>All objects created within Python chunks are available to R using the <code>py</code> object exported by the reticulate package. For example, the following code demonstrates reading and filtering a CSV file using Pandas then plotting the resulting data frame using ggplot2:</p>
<div class="figure">
<img src="images/rmarkdown_engine_zoomed.png" class="screenshot" style="width:98.0%" />

</div>
<p>See the <a href="calling_python.html">Calling Python from R</a> article for additional details on how to interact with Python types from within R</p>
</div>
<div id="calling-r-from-python" class="section level2">
<h2>Calling R from Python</h2>
<p>You can analagously access R objects within Python chunks via the <code>r</code> object. For example:</p>
<div class="figure">
<img src="images/r_from_python.png" class="screenshot" style="width:98.0%" />

</div>
</div>
<div id="engine-setup" class="section level2">
<h2>Engine Setup</h2>
<p>If you are using a version of knitr prior to 1.18 then add this code to your setup chunk to enable the reticulate Python engine:</p>
<div class="figure">
<img src="images/reticulate_enable.png" class="screenshot" style="width:98.0%" />

</div>
<p>If you do not wish to use the reticulate Python engine then set the <code>python.reticulate</code> chunk option to <code>FALSE</code>:</p>
<div class="figure">
<img src="images/reticulate_disable.png" class="screenshot" style="width:98.0%" />

</div>
</div>

            
        <hr>         <div class="related-posts">
                <h5>Related Posts</h5>
                
              </div> 
            </div>
          </div>

   <hr>  <div class="disqus">
  <div id="disqus_thread"></div>
  <script type="text/javascript">

    (function() {
      
      
      if (window.location.hostname == "localhost")
        return;

      var disqus_shortname = '';
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com/" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div> 
        </div>
      </div>
    </div>

    
    <footer>
  <div id="footer">
    <div class="container">
      <p class="text-muted">&copy; All rights reserved. Powered by <a href="https://gohugo.io/">Hugo</a> and
      <a href="http://www.github.com/nurlansu/hugo-sustain/">sustain</a> with â™¥</p>
    </div>
  </div>
</footer>
<div class="footer"></div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="../../../../../js/docs.min.js"></script>
<script src="../../../../../js/main.js"></script>

<script src="../../../../../js/ie10-viewport-bug-workaround.js"></script>


    
  </body>
</html>
